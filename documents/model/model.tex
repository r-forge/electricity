\section{The model}

Assumptions:

\begin{itemize}
	\item same discount rate on cashflows
\end{itemize}

The stochastic programming approach in \cite{Genc2007} makes it possible to compute $S$-adapted equilibra for much larger problems than is possible using dynamic programming.

\subsection{Notation}

\begin{longtable}[c]{l l}
$i\in N=\left\{ 1,2,\dots,n\right\}$                           & players, firms\\
$s\in S=\left\{ 1,2,\dots,\omega\right\}, \omega<\infty$       & scenarios\\
$p_s$                                                          & probability of scenario $s$\\
$h\in H \left\{ 1,2,\dots,O\right\}$													 & states of the market \\
$u_h$																														 & scalar that says how often (how many hours) market state $h$ occurs \\
$k\in K=\left\{ 1,2,\dots,m\right\}$                           & available technologies \\
$K_{i,k}^t$                                                     & available capacity at time $t$ from technology $k$ for firm $i$\\
$K_i^{t,s}=\left[K_{i,1}^{t,s},K_{i,2}^{t,s},\dots,K_{i,m}^{t,s}\right]$                                    & total available capacity at time $t$ for firm $i$\\

$q_{i}^{t,s}=\left[q_{i,1}^{t,s}, q_{i,1}^{t,s}, \dots, q_{i,m}^{t,s}\right]$                                                     & quantity\\
$Q(K_t)=\sum_{i=1}^nq_i$                                        & total produced quantity of all firms\\
$P(Q)$                                                          & inverse demand function\\
$P_h(Q)= \alpha_h - \beta_h \sum_{i=1}^n g_i$										& Different inverse demand functions depending on market states \\
$I_{i,s}^{t,m}$                                                 & investment quantities in technology $m$ at time $t$, scenario $s$ and by player $i$\\
$c_m$																														& variable costs of technology $m$	\\
$ic_m$																													& investment costs in technology $m$  \\
$\Pi_i=\sum_{s=1}^\omega p_s\Pi_{i,s}$                          & total expected profit for player $i$\\

\end{longtable}

Profit Function:

Profit for each player $i$ in every period consists of the sum of profits made during different market states minus investments $I_{i,s}^{t,m}$ that are made at that point in time in that scenario.

\begin{gather}
	\Pi^t_{i,s} = \sum_{h=1}^O u_h \left[  (\alpha_h - \beta_h \sum_{i=1}^n q_i^{t,s,h}) q_i^{t,s,h} - \sum_{k=1}^{m} (q^{t,s,h}_{i,m} c_m + \frac{1}{(K^{t,s}_{i,m}-q^{t,s,h}_{i,m})}) \right] - \sum_{k=1}^{m} I_{i,s}^{t,m}  ic_m \\
\text{s.t.:} \  	q^{t,s,h}_{i,m} \leq K^{t,s}_{i,m}, \forall t,s,k,i,m \\
             \    q^{t,s,h}_{i,m} \geq 0; K^{t,s}_{i,m} \geq 0 \\
\end{gather}

A two stage game:

\begin{gather}
	\Pi_{i} = \sum_{h=1}^5 u_h \left[ P^1(Q) q^{1,k}_i-C^1_i(q^{1,k}_i) \right] - \sum_{k=1}^{m} I_{i}^{1,m}  ic_m +  \\
	\sum_{s=1}^2 p_s \left[ \sum_{h=1}^5 u_h \left[ P^s(Q) q_i^{2,s,h}- C^2_i(q_i^{2,s,h}) \right] \right] \\
\text{s.t.:} \  	q^{1,k}_{i,m} \leq K^1_{i,m} \\
									K^2_{i,m}= K^1_{i,m}+ I^1_{i,m} \\
									q_i^{2,s,h} \leq K^2_{i,m} \\
             \    q^{1,k}_{i,m} \geq 0;q_i^{2,s,h} \geq 0; K^2_{i,m} \geq 0  \\               
\end{gather}

An example of a two stage formulation ($t={1,2}$) for five market states ($O=5$) and two possible demand scenarios in period 2. Player $i$ maximizes it´s profit by setting $q$ and $I$. By considering different demand states and the associated probabilities, he takes into account how demand might evolve. So $q^2$ is different, depending on the demand state in which you are in($q^2(\xi)$). $I$ is not allowed to differ in such a way as it has to be set in advance when it is not clear how high demand might be. Please note that $q^2$ does not depend on what other players might invest it does depend however, on how high own investments are as the cost function can be changed between period one and two($C^1_i vs. C^2_i$). (Idee - Wenn man das weggibt, müsste man den Effekt den eigene Investments auf den Marktpreis haben sehen). If, in the solution, $q^2$ would depend on Investments of others as well ($q^2(\xi,I)$), we would enter the realm of feedback or closed loop games (which are the same in the case of a two stage game). Other possible values of $q^2$ would, of course also result in other values of investments in the first stage and so the solution to a closed loop game will, in general, differ from open loop games.   \\ 

\subsection{An Example of a Closed Loop Game (just for curiosity)}

In a two stage - closed loop formulation a firm would not only consider how uncertainty might materialize in the future, but it would also consider what the other firms might do. A firm might ask itself ok if i invest into a coal plant and a nuclear plant and the other guys invest into a gas plant each, how will my profits look like after I solved my oligopoly model to consider uncertainty? To arrive at such a kind of equilibrium, one has to enumerate all possible combinations of investments that might be pursued. If every firm could invest into three different technologies for example and could buy three plants each at maximum, each firm has 64 different strategies. Combining four players with 64 strategies each, we have $64^4\approx$ sixteen million different equilibria to compute. In all these possible combinations one can then search for Nash Equilibria according to the usual conditions for Nash Equilibria.



\subsection{Objective function}

\subsection{Constraints}

For formulation of cost functions see \cite{Bergman1995}, \cite{Pineau2003}.	

For existence proof of Nash-Cournot equilibria for oligopolies see \cite{Murphy1982}.



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../emarket_simulation"
%%% End: 
