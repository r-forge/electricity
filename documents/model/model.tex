\section{The model}


In order to investigate investment decisions, we set up a realistic model which combines an oligopolistic market, different market states, different technologies to invest in, and a two stage investment game. The uncertainty about future demand is accounted for by different demand scenarios. The stochastic programming, game with probabilistic scenarios (GPS) approach in \cite{Genc2007} makes it possible to compute $S$-adapted equilibria for much larger problems than is possible using dynamic programming.

\begin{gather}
	\max_{q_{i,k}^{s,m,t}} \pi_i=  \sum_{s\in S} p_s \sum_{t\in T} \epsilon \sum_{m\in M} \nu_{m\in M} \times \\ \nonumber 
	\left[\left(\alpha-\beta\left(\sum_{i\in N} \sum_{k\in K} q_{i,k}^{s,m,t}+\sum_{k\in K}q_{i,k}^{s,m,t}\right)\right) \sum_{k\in K} q_{i,k}^{s,m,t} - \sum_{k\in K}c^k q_{i,k}^{s,m,t} \right] \\ \nonumber 
	- \sum_{k\in K}\Gamma_k \times I_{i,k} + \sum_{k\in K} F_k \\ \nonumber
	\text{s.t.:} \  q_{i,k}^{s,m,t}-K_{i,k}^t \leq 0; \\  \nonumber
											K^{t+1}_{i,k} - \rho K_{i,k}^t - I_{i,k} = 0 \\ \nonumber
 										  q_i^k, I_{i,k}, K_{i,k}^t	\geq 0  \nonumber
	\end{gather}
	
\begin{tabular}[c]{l l}
$i\in N$        & players, firms\\
$s\in S$       	& scenarios\\
$m\in M$	& states of the market \\
$k\in K$	& technologies \\
$t\in T$	& time \\
$K_{i,k}^t$      & available capacity at time $t$ from technology $k$ \\
                & for firm $i$ \\
$q_{i,k}^{s,m,t}$ & quantity at time $t$, technology $k$, firm $i$, \\
                & in market state $m$ and scenario $s$ \\			
$I_{i,k}^t$   & investment in technology $k$, at time $t$ from for firm $i$\\
$p_s$        & probability of scenario $s$\\
$\nu_m$      & says how often (how many hours) market \\
             & state $m$ occurs \\
$\epsilon$   & discount factor \\
$\alpha(m)$  & demand function intercept in market state $m$ \\
$\beta(m)$   & demand function slope in market state $m$ \\
$c_k$	     & variable costs of technology $k$	\\
$\Gamma_k$   & investment costs in technology $k$  \\
$F_k$        & scrap values  \\
\end{tabular}

Each player ($i$) maximizes its profit by setting $q_{i,k}^{s,m,t}$ and $I_{i,k}^t$ . By considering different demand developments and the associated probabilities ($p_s$), the players take into account how demand might evolve in the future. Quantities are allowed to change in different scenarios that evolve, thereby stating that firms can always react to demand by adjusting the short run production. On the contrary, investments ($I$) are not allowed to differ in such a way as they have to be set in advance when it is not clear jet how high demand might be. Please note, that quantities do not depend on what other players might invest. They do depend however, on how high own investments are.
% as the cost function can be changed between period one and two($C^1_i vs. C^2_i$). (Idee - Wenn man das weggibt, mï¿½sste man den Effekt den eigene Investments auf den Marktpreis haben sehen). 
If, in the solution, quantities would depend on Investments of other players as well, we would enter the realm of feedback or closed loop games (which are the same in the case of a two stage game). It has to be noted here that the solution of a closed loop game can, and will, in general, be different from the solution of an open loop game.

To solve the model, we derive the Karush Kuhn Tucker Conditions (KKT) to obtain a mixed complementarity problem (MCP) which we solve by using GAMS and the PATH solver. For the model above, we used the Cournot approach to derive the first order conditions. For the competitive benchmark we skipped the index $i$ and solved the problem under the assumption that just one player disposes of all the initial capacities of the four players. When deriving the KKT conditions, this player is assumed to set prices equal to marginal costs.

%\clearpage

